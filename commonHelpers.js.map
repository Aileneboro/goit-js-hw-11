{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst container = document.querySelector('div');\nconst inputDate = document.querySelector('input');\n\nfunction showLoader() {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  container.append(loader);\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (inputDate.value.trim() === '') {\n    iziToast.error({\n      message: 'Your request is missing. Please fill out the form',\n      position: 'topCenter',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  const searchTerm = inputDate.value;\n  searchImages(searchTerm);\n  inputDate.value = '';\n});\n\nfunction searchImages(searchTerm) {\n  const apiKey = '42356211-e192fc2ea90e5ac732e43fabf';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch images from the server');\n      }\n      return response.json();\n    })\n    .then(data => displayImages(data))\n    .catch(error => {\n      iziToast.error({\n        message: `An error occurred: ${error.message}`,\n        position: 'topCenter',\n      });\n    })\n    .finally(() => hideLoader());\n}\n\nfunction displayImages(data) {\n  if (data.hits.length === 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topCenter',\n    });\n  } else {\n    const markup = data.hits\n      .map(image => {\n        return `\n  <li class=\"gallery-item\">\n    <a href=\"${image.largeImageURL}\">\n      <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n    </a>\n    <p><b>Likes: </b>${image.likes}</p>\n    <p><b>Views: </b>${image.views}</p>\n    <p><b>Comments: </b>${image.comments}</p>\n    <p><b>Downloads: </b>${image.downloads}</p>\n  </li>`;\n      })\n      .join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionType: 'attr',\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionSelector: 'img',\n      captionDelay: 250,\n    });\n\n    lightbox.on('show.simplelightbox').refresh();\n  }\n}\n"],"names":["form","gallery","container","inputDate","showLoader","loader","hideLoader","event","iziToast","searchTerm","searchImages","url","response","data","displayImages","error","markup","image","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,KAAK,EACxCC,EAAY,SAAS,cAAc,OAAO,EAEhD,SAASC,GAAa,CACpB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BH,EAAU,OAAOG,CAAM,CACzB,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,CAEAL,EAAK,iBAAiB,SAAUO,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChBJ,EAAU,MAAM,KAAI,IAAO,GAAI,CACjCK,EAAS,MAAM,CACb,QAAS,oDACT,SAAU,WAChB,CAAK,EACD,MACD,CAEDP,EAAQ,UAAY,GAEpBG,IAEA,MAAMK,EAAaN,EAAU,MAC7BO,EAAaD,CAAU,EACvBN,EAAU,MAAQ,EACpB,CAAC,EAED,SAASO,EAAaD,EAAY,CAEhC,MAAME,EAAM,qEAA4CF,CAAU,2DAClE,MAAME,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wCAAwC,EAE1D,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQC,EAAcD,CAAI,CAAC,EAChC,MAAME,GAAS,CACdP,EAAS,MAAM,CACb,QAAS,sBAAsBO,EAAM,OAAO,GAC5C,SAAU,WAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMT,EAAU,CAAE,CAC/B,CAEA,SAASQ,EAAcD,EAAM,CAC3B,GAAIA,EAAK,KAAK,SAAW,EACvBL,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WAChB,CAAK,MACI,CACL,MAAMQ,EAASH,EAAK,KACjB,IAAII,GACI;AAAA;AAAA,eAEAA,EAAM,aAAa;AAAA,wCACMA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,uBAEvDA,EAAM,KAAK;AAAA,uBACXA,EAAM,KAAK;AAAA,0BACRA,EAAM,QAAQ;AAAA,2BACbA,EAAM,SAAS;AAAA,QAEnC,EACA,KAAK,EAAE,EAEVhB,EAAQ,mBAAmB,YAAae,CAAM,EAE7B,IAAIE,EAAe,aAAc,CAChD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,gBAAiB,MACjB,aAAc,GACpB,CAAK,EAEQ,GAAG,qBAAqB,EAAE,QAAO,CAC3C,CACH"}